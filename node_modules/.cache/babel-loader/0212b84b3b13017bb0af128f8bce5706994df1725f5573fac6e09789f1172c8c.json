{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bryan/web-dev/pokedex-app/react-pokedex-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bryan/web-dev/pokedex-app/react-pokedex-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/bryan/web-dev/pokedex-app/react-pokedex-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{capitalizeLetter,formatIdxNum}from'../../utils';import Type from'../../components/Type';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Evolution(_ref){var pokemonName=_ref.pokemonName,pokemon=_ref.pokemon,setPokemonData=_ref.setPokemonData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),evolutionChain=_useState2[0],setEvolutionChain=_useState2[1];useEffect(function(){var fetchEvolutionChain=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,evolutionUrl,evolutionResponse,evolutionData,chain;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://pokeapi.co/api/v2/pokemon-species/\".concat(pokemon.name));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;evolutionUrl=data.evolution_chain.url;_context.next=10;return fetch(evolutionUrl);case 10:evolutionResponse=_context.sent;_context.next=13;return evolutionResponse.json();case 13:evolutionData=_context.sent;chain=parseEvolutionChain(evolutionData.chain);setEvolutionChain(chain);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);console.log(\"Error fetching evolution chain:\",_context.t0);case 21:case\"end\":return _context.stop();}},_callee,null,[[0,18]]);}));return function fetchEvolutionChain(){return _ref2.apply(this,arguments);};}();fetchEvolutionChain();},[pokemonName]);var parseEvolutionChain=function parseEvolutionChain(evolutionData){var chain=[];parseEvolutionData(evolutionData,chain);return chain;};var parseEvolutionData=function parseEvolutionData(evolutionData,chain){var isFirstEvolution=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var name=evolutionData.species.name;var imageUrl=\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/\".concat(evolutionData.species.url.split(\"/\").slice(-2,-1),\".png\");var evolutionMethod=null;var evolutionLevel=null;var evolutionItem=null;evolutionData.evolution_details.forEach(function(detail){if(detail.trigger.name===\"level-up\"){if(name===\"espeon\"||name===\"umbreon\"){evolutionMethod=\"Level up with Friendship\";if(name===\"espeon\"){evolutionMethod+=\" during Daytime\";}else if(name===\"umbreon\"){evolutionMethod+=\" during Nighttime\";}}else{evolutionMethod=\"Level:\";evolutionLevel=detail.min_level;}}else if(detail.trigger.name===\"use-item\"){evolutionMethod=\"Use Item:\";evolutionItem=detail.item.name;}else if(detail.trigger.name===\"trade\"){evolutionMethod=\"Trade with another Pokémon\";}else if(detail.trigger.name===\"use-item-while-holding\"){evolutionMethod=\"Level up while holding item\";evolutionItem=detail.item.name;}else if(detail.trigger.name===\"shed\"){evolutionMethod=\"Shed\";evolutionLevel=detail.min_level;}else{evolutionMethod=detail.trigger.name;}});chain.push({name:name,imageUrl:imageUrl,evolutionMethod:evolutionMethod,evolutionLevel:evolutionLevel,evolutionItem:evolutionItem});if(evolutionData.evolves_to.length>0){evolutionData.evolves_to.forEach(function(evolvesTo){parseEvolutionData(evolvesTo,chain,false);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"title\",children:[\"Evolution Chain for \",capitalizeLetter(pokemon.name)]}),/*#__PURE__*/_jsx(\"div\",{className:\"evolution-container\",children:evolutionChain.map(function(pokemonData,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"evolution-data\",onClick:function onClick(){return setPokemonData(pokemonData.name);},children:[pokemonData.evolutionMethod&&/*#__PURE__*/_jsxs(\"div\",{className:\"evolution-method\",children:[\" \",pokemonData.evolutionMethod,pokemonData.evolutionLevel&&/*#__PURE__*/_jsxs(\"span\",{children:[\" \",pokemonData.evolutionLevel]}),pokemonData.evolutionItem&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",capitalizeLetter(pokemonData.evolutionItem)]}),/*#__PURE__*/_jsx(\"div\",{className:\"evo-arrow\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"evolution-pokemon\",children:[/*#__PURE__*/_jsx(\"img\",{src:pokemonData.imageUrl,alt:pokemonData.name}),/*#__PURE__*/_jsx(\"span\",{children:capitalizeLetter(pokemonData.name)})]})]},index);})})]});}","map":{"version":3,"names":["React","useEffect","useState","capitalizeLetter","formatIdxNum","Type","jsxs","_jsxs","jsx","_jsx","Evolution","_ref","pokemonName","pokemon","setPokemonData","_useState","_useState2","_slicedToArray","evolutionChain","setEvolutionChain","fetchEvolutionChain","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","evolutionUrl","evolutionResponse","evolutionData","chain","wrap","_callee$","_context","prev","next","fetch","concat","name","sent","json","evolution_chain","url","parseEvolutionChain","t0","console","log","stop","apply","arguments","parseEvolutionData","isFirstEvolution","length","undefined","species","imageUrl","split","slice","evolutionMethod","evolutionLevel","evolutionItem","evolution_details","forEach","detail","trigger","min_level","item","push","evolves_to","evolvesTo","children","className","map","pokemonData","index","onClick","src","alt"],"sources":["C:/Users/bryan/web-dev/pokedex-app/react-pokedex-app/src/pages/PokemonData/Evolution.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport { capitalizeLetter, formatIdxNum } from '../../utils';\r\n\r\nimport Type from '../../components/Type';\r\n\r\n\r\nexport default function Evolution({ pokemonName, pokemon, setPokemonData }) {\r\n  const [evolutionChain, setEvolutionChain] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchEvolutionChain = async () => {\r\n      try {\r\n        const response = await fetch(`https://pokeapi.co/api/v2/pokemon-species/${pokemon.name}`);\r\n        const data = await response.json();\r\n\r\n        const evolutionUrl = data.evolution_chain.url;\r\n        const evolutionResponse = await fetch(evolutionUrl);\r\n        const evolutionData = await evolutionResponse.json();\r\n\r\n        const chain = parseEvolutionChain(evolutionData.chain);\r\n        setEvolutionChain(chain);\r\n      } catch (error) {\r\n        console.log(\"Error fetching evolution chain:\", error);\r\n      }\r\n    };\r\n\r\n    fetchEvolutionChain();\r\n  }, [pokemonName]);\r\n\r\n  const parseEvolutionChain = (evolutionData) => {\r\n    const chain = [];\r\n    parseEvolutionData(evolutionData, chain);\r\n    return chain;\r\n  };\r\n\r\n  const parseEvolutionData = (evolutionData, chain, isFirstEvolution = true) => {\r\n    const name = evolutionData.species.name;\r\n    const imageUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${evolutionData.species.url.split(\"/\").slice(-2, -1)}.png`;\r\n\r\n    let evolutionMethod = null;\r\n    let evolutionLevel = null;\r\n    let evolutionItem = null;\r\n\r\n    evolutionData.evolution_details.forEach((detail) => {\r\n      if (detail.trigger.name === \"level-up\") {\r\n        if (name === \"espeon\" || name === \"umbreon\") {\r\n          evolutionMethod = \"Level up with Friendship\";\r\n          if (name === \"espeon\") {\r\n            evolutionMethod += \" during Daytime\"\r\n          } else if (name === \"umbreon\") {\r\n            evolutionMethod += \" during Nighttime\"\r\n          }\r\n        } else {\r\n          evolutionMethod = \"Level:\";\r\n          evolutionLevel = detail.min_level;\r\n        }\r\n      } else if (detail.trigger.name === \"use-item\") {\r\n        evolutionMethod = \"Use Item:\";\r\n        evolutionItem = detail.item.name;\r\n      } else if (detail.trigger.name === \"trade\") {\r\n        evolutionMethod = \"Trade with another Pokémon\";\r\n      } else if (detail.trigger.name === \"use-item-while-holding\") {\r\n        evolutionMethod = \"Level up while holding item\";\r\n        evolutionItem = detail.item.name;\r\n      } else if (detail.trigger.name === \"shed\") {\r\n        evolutionMethod = \"Shed\";\r\n        evolutionLevel = detail.min_level;\r\n      } else {\r\n        evolutionMethod = detail.trigger.name;\r\n      }\r\n    });\r\n\r\n    chain.push({ name, imageUrl, evolutionMethod, evolutionLevel, evolutionItem });\r\n\r\n    if (evolutionData.evolves_to.length > 0) {\r\n      evolutionData.evolves_to.forEach((evolvesTo) => {\r\n        parseEvolutionData(evolvesTo, chain, false);\r\n      });\r\n    }\r\n  };\r\n \r\n  return (\r\n    <div>\r\n      <h2 className=\"title\">Evolution Chain for {capitalizeLetter(pokemon.name)}</h2>\r\n      <div className=\"evolution-container\">\r\n        {evolutionChain.map((pokemonData, index) => (\r\n          <div className=\"evolution-data\" key={index} onClick={() => (setPokemonData(pokemonData.name))}>\r\n            {pokemonData.evolutionMethod && (\r\n              <div className=\"evolution-method\">\r\n                {\" \"}\r\n                {pokemonData.evolutionMethod}\r\n                {pokemonData.evolutionLevel && (\r\n                  <span> {pokemonData.evolutionLevel}</span>\r\n                )}\r\n                {pokemonData.evolutionItem && (\r\n                  <div> {capitalizeLetter(pokemonData.evolutionItem)}</div>\r\n                )}\r\n                <div className=\"evo-arrow\"></div>\r\n              </div>\r\n            )}\r\n            <div className=\"evolution-pokemon\"> \r\n              <img src={pokemonData.imageUrl} alt={pokemonData.name} />\r\n              <span>{capitalizeLetter(pokemonData.name)}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}